(this.webpackJsonptask_1=this.webpackJsonptask_1||[]).push([[0],{29:function(t,e,a){},37:function(t,e,a){},39:function(t,e,a){},40:function(t,e,a){},41:function(t,e,a){},42:function(t,e,a){},43:function(t,e,a){},44:function(t,e,a){},45:function(t,e,a){"use strict";a.r(e);var c=a(1),n=a.n(c),s=a(19),r=a.n(s),i=(a(29),a(11)),o=a(10),l=a(17),d=a(24),j=a(6),u=a(7),b="POSTS/POSTS_REQUESTED",p="POSTS/POSTS_RECEIVED",O="POSTS/POST_ADDED",f="POSTS/POST_TOGGLED",x={fetching:!0,allPosts:[],favoritePosts:[]};var v=a(5),m=a.n(v),h=a(9),y=a(18),N=m.a.mark(k),_=m.a.mark(C),S=m.a.mark(T),w=m.a.mark(E);function g(){return P.apply(this,arguments)}function P(){return(P=Object(h.a)(m.a.mark((function t(){var e,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://jsonplaceholder.typicode.com/posts");case 2:return e=t.sent,t.next=5,e.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)(g);case 2:return t=e.sent,e.next=5,Object(y.c)({type:p,payload:t});case 5:case"end":return e.stop()}}),N)}function C(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.b)(k);case 2:case"end":return t.stop()}}),_)}function T(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.d)(b,C);case 2:case"end":return t.stop()}}),S)}function E(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T();case 2:case"end":return t.stop()}}),w)}var F=Object(d.a)(),D=Object(l.c)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:return Object(u.a)(Object(u.a)({},t),{},{fetching:!0});case p:return Object(u.a)(Object(u.a)({},t),{},{fetching:!1,allPosts:e.payload});case O:return Object(u.a)(Object(u.a)({},t),{},{allPosts:[e.payload].concat(Object(j.a)(t.allPosts))});case f:return Object(u.a)(Object(u.a)({},t),{},{allPosts:t.allPosts.map((function(t){return t.id!==e.payload?t:Object(u.a)(Object(u.a)({},t),{},{isFavorite:!t.isFavorite})}))});default:return t}}),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(Object(l.a)(F)));F.run(E);var I=D,A=(a(37),a(2)),L=function(t){var e=t.text,a=t.clickHandler,c=t.postObj;return Object(A.jsx)("button",{"data-testid":"post-button",className:"post__button waves-effect btn",onClick:function(){a(c)},children:e})},R=(a(39),function(t){var e=t.post,a=Object(o.b)();return Object(A.jsxs)("div",{className:function(t){var e="all-cards-container__post post card";return t.isFavorite&&(e+=" favorite"),0===t.userId&&(e+=" added"),e}(e),children:[Object(A.jsxs)("div",{className:"card-content black-text",children:[Object(A.jsx)("h3",{className:"post__title card-title",children:e.title}),Object(A.jsx)("p",{className:"post__body",children:e.body})]}),Object(A.jsx)("div",{className:"card-action",children:Object(A.jsx)(L,{text:e.isFavorite?"Remove":"Add to favorites",clickHandler:function(t){a({type:f,payload:t.id})},postObj:e})})]})}),V=(a(40),function(){return Object(A.jsx)("div",{className:"preloader-wrapper big active",children:Object(A.jsxs)("div",{className:"spinner-layer spinner-blue-only",children:[Object(A.jsx)("div",{className:"circle-clipper left",children:Object(A.jsx)("div",{className:"circle"})}),Object(A.jsx)("div",{className:"gap-patch",children:Object(A.jsx)("div",{className:"circle"})}),Object(A.jsx)("div",{className:"circle-clipper right",children:Object(A.jsx)("div",{className:"circle"})})]})})}),q=function(){var t=Object(o.c)((function(t){return t})),e=Object(o.b)(),a=Object(c.useState)(!1),n=Object(i.a)(a,2);n[0],n[1];return Object(c.useEffect)((function(){I.dispatch({type:b})}),[e]),Object(A.jsx)("div",{"data-testid":"all-cards-container",className:"all-cards-container",children:t.fetching?Object(A.jsx)(V,{}):t.allPosts.map((function(t){return Object(A.jsx)(R,{post:t},t.id)}))})},B=(a(41),function(){var t=Object(o.c)((function(t){return t}));return Object(A.jsx)("div",{id:"favorite-cards-container","data-testid":"favorite-cards-container",className:"favorite-cards-container",children:t.allPosts.map((function(t){return t.isFavorite&&Object(A.jsx)(R,{post:t},t.id)}))})}),G=(a(42),function(){return Object(A.jsx)("div",{className:"card-details",children:"Card Details"})}),H=function(t){var e=t.text,a=t.type,c=t.styles,n=t.btnType,s=t.onClick,r=e.toLocaleLowerCase().replace(/ /g,"-");return Object(A.jsx)("button",{id:r,"data-testid":"button",className:"waves-effect waves-light ".concat(c," ").concat(n),onClick:s,type:a,children:e})},J=a(16),M=function(t){var e=Object(J.a)(t),a=e.field,c=e.fieldState;return Object(A.jsxs)("div",{className:"form__input input-field",children:[Object(A.jsx)("input",Object(u.a)(Object(u.a)({"data-testid":"input"},a),{},{type:"text",id:t.name,autoComplete:"off"})),Object(A.jsxs)("label",{htmlFor:t.name,children:[" ",t.name," "]}),c.invalid&&Object(A.jsxs)("span",{"data-testid":"helper-text",className:"helper-text",children:["Can not be empty"," "]})]})},U=function(t){var e=Object(J.a)(t),a=e.field,c=e.fieldState;return Object(A.jsxs)("div",{className:"form__input input-field",children:[Object(A.jsx)("textarea",Object(u.a)(Object(u.a)({"data-testid":"textarea",className:"materialize-textarea"},a),{},{id:t.name})),Object(A.jsxs)("label",{htmlFor:t.name,children:[" ",t.name," "]}),c.invalid&&Object(A.jsx)("span",{"data-testid":"helper-text",className:"helper-text",children:"Can not be empty"})]})},X=(a(43),function(t){var e=t.isActive,a=t.setIsActive,c=Object(o.b)(),n=Object(J.b)({defaultValues:{body:"",title:""},mode:"onChange"}),s=n.reset,r=(n.formState.errors,n.handleSubmit),i=n.control,l=function(){a(!1),s()},d=function(t){var e=function(t){var e=(new Date).valueOf();return{title:t.title,body:t.body,id:e,userId:0,isFavorite:!1}}(t);c({type:O,payload:e}),l()};return Object(A.jsx)("div",{className:e?"add-post active":"add-post",children:Object(A.jsxs)("form",{name:"add-post",id:"add-post-form",className:"add-post__form form card",onSubmit:r((function(t){""!==t.body.trim()&&""!==t.title.trim()&&d(t)})),children:[Object(A.jsxs)("div",{className:"card-content",children:[Object(A.jsx)("h2",{className:"form__title card-title",children:"Create new post"}),Object(A.jsx)(M,{control:i,name:"title",rules:{required:!0}}),Object(A.jsx)(U,{control:i,name:"body",rules:{required:!0}})]}),Object(A.jsxs)("div",{className:"card-action",children:[Object(A.jsx)(H,{text:"Confirm",styles:"indigo darken-3",btnType:"btn",type:"submit"}),Object(A.jsx)(H,{text:"Cancel",btnType:"btn-flat",type:"button",onClick:l})]})]})})}),z=(a(44),function(){var t=Object(c.useState)(!1),e=Object(i.a)(t,2),a=e[0],n=e[1];return Object(A.jsxs)("div",{className:"app","data-testid":"app",children:[Object(A.jsx)(H,{text:"add new post",type:"button",onClick:function(){return n(!0)},styles:"indigo darken-3",btnType:"btn"}),Object(A.jsxs)("div",{className:"app__containers",children:[Object(A.jsx)(q,{}),Object(A.jsx)(B,{}),Object(A.jsx)(G,{})]}),Object(A.jsx)(X,{isActive:a,setIsActive:n})]})}),Q=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,46)).then((function(e){var a=e.getCLS,c=e.getFID,n=e.getFCP,s=e.getLCP,r=e.getTTFB;a(t),c(t),n(t),s(t),r(t)}))};r.a.render(Object(A.jsx)(n.a.StrictMode,{children:Object(A.jsx)(o.a,{store:I,children:Object(A.jsx)(z,{})})}),document.getElementById("root")),Q()}},[[45,1,2]]]);
//# sourceMappingURL=main.37d9f5ba.chunk.js.map