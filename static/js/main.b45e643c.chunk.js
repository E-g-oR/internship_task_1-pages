(this.webpackJsonptask_1=this.webpackJsonptask_1||[]).push([[0],{19:function(t,e,n){},26:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},31:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),s=n(10),i=n.n(s),o=(n(19),n(3)),r=n(4),d=n(11),l=Object(d.b)({name:"counter",initialState:{allPosts:[],favoritePosts:[]},reducers:{increment:function(t,e){t.allPosts.map((function(n){n.id===e.payload.id&&(n.isFavorite=!0,t.favoritePosts.push(n))}))},decrement:function(t,e){var n=t.favoritePosts.findIndex((function(t){return t.id===e.payload.id}));t.allPosts.map((function(t){t.id===e.payload.id&&(t.isFavorite=!1)})),t.favoritePosts.splice(n,1)},addAllPosts:function(t,e){t.allPosts=e.payload},addNewPost:function(t,e){t.allPosts.unshift(e.payload)}}}),u=l.actions,j=u.increment,b=u.decrement,f=u.addAllPosts,p=u.addNewPost,m=l.reducer,O=(n(26),n(1)),x=function(t){var e=t.text,n=t.clickHandler,a=t.postObj;return Object(O.jsx)("button",{"data-testid":"post-button",className:"post__button",onClick:function(){n(a)},children:e})},v=(n(28),function(t){var e=t.post,n=Object(r.b)();return Object(O.jsxs)("div",{className:function(t){var e="all-cards-container__post post";return t.isFavorite&&(e+=" favorite"),0===t.userId&&(e+=" added"),e}(e),children:[Object(O.jsxs)("div",{className:"card-content black-text",children:[Object(O.jsx)("h3",{className:"post__title card-title",children:e.title}),Object(O.jsx)("p",{className:"post__body",children:e.body})]}),Object(O.jsx)("div",{className:"card-action",children:Object(O.jsx)(x,{text:e.isFavorite?"Remove":"Add to favorites",clickHandler:e.isFavorite?function(t){n(b(t))}:function(t){n(j(t))},postObj:e})})]})}),h=(n(29),function(){var t=Object(r.c)((function(t){return t.counter.allPosts})),e=Object(r.b)(),n=Object(a.useState)(!1),c=Object(o.a)(n,2),s=c[0],i=c[1];return Object(a.useEffect)((function(){fetch("https://jsonplaceholder.typicode.com/posts").then((function(t){return t.json()})).then((function(t){i(!0),t.map((function(t){return t.isFavorite=!1})),e(f(t))}))}),[e]),s?Object(O.jsx)("div",{"data-testid":"all-cards-container",className:"all-cards-container",children:t.map((function(t){return Object(O.jsx)(v,{post:t},t.id)}))}):Object(O.jsx)("div",{"data-testid":"all-cards-container",className:"all-cards-container",children:Object(O.jsx)("p",{children:"Loading..."})})}),y=(n(30),function(){var t=Object(r.c)((function(t){return t.counter.favoritePosts}));return Object(O.jsx)("div",{"data-testid":"favorite-cards-container",className:"favorite-cards-container",children:t.map((function(t){return Object(O.jsx)(v,{post:t},t.id)}))})}),N=(n(31),function(){return Object(O.jsx)("div",{className:"card-details",children:"Card Details"})}),_=function(t){var e=t.text,n=t.type,a=t.styles,c=t.btnType,s=t.onClick;return Object(O.jsx)("button",{id:"add-post-button","data-testid":"button",className:"waves-effect waves-light ".concat(a," ").concat(c),onClick:s,type:n,children:e})},P=n(8),C=n(9),k=function(t){var e=Object(P.a)(t),n=e.field,a=e.fieldState;return Object(O.jsxs)("div",{className:"form__input input-field",children:[Object(O.jsx)("input",Object(C.a)(Object(C.a)({"data-testid":"input"},n),{},{type:"text",id:t.name,autoComplete:"off"})),Object(O.jsxs)("label",{htmlFor:t.name,children:[" ",t.name," "]}),Object(O.jsx)("span",{"data-testid":"helper-text",className:"helper-text",children:a.invalid?"Can not be empty":""})]})},F=function(t){var e=Object(P.a)(t),n=e.field,a=e.fieldState;return Object(O.jsxs)("div",{className:"form__input input-field",children:[Object(O.jsx)("textarea",Object(C.a)(Object(C.a)({"data-testid":"textarea",className:"materialize-textarea"},n),{},{id:t.name})),Object(O.jsxs)("label",{htmlFor:t.name,children:[" ",t.name," "]}),Object(O.jsx)("span",{"data-testid":"helper-text",className:"helper-text",children:a.invalid?"Can not be empty":""})]})},g=(n(33),function(t){var e=t.isActive,n=t.setIsActive,a=Object(r.b)(),c=Object(P.b)({defaultValues:{body:"",title:""},mode:"onChange"}),s=c.reset,i=(c.formState.errors,c.handleSubmit),o=c.control,d=function(){n(!1),s()},l=function(t){var e=function(t){var e=(new Date).valueOf();return{title:t.title,body:t.body,id:e,userId:0,isFavorite:!1}}(t);a(p(e)),d()};return Object(O.jsx)("div",{className:e?"add-post active":"add-post",children:Object(O.jsxs)("form",{name:"add-post",id:"add-post-form",className:"add-post__form form card",onSubmit:i((function(t){""!==t.body.trim()&&""!==t.title.trim()&&l(t)})),children:[Object(O.jsxs)("div",{className:"card-content",children:[Object(O.jsx)("h2",{className:"form__title card-title",children:"Create new post"}),Object(O.jsx)(k,{control:o,name:"title",rules:{required:!0}}),Object(O.jsx)(F,{control:o,name:"body",rules:{required:!0}})]}),Object(O.jsxs)("div",{className:"card-action",children:[Object(O.jsx)(_,{text:"Confirm",styles:"indigo darken-3",btnType:"btn",type:"submit"}),Object(O.jsx)(_,{text:"Cancel",btnType:"btn-flat",type:"button",onClick:d})]})]})})}),S=(n(34),function(){var t=Object(a.useState)(!1),e=Object(o.a)(t,2),n=e[0],c=e[1];return Object(O.jsxs)("div",{className:"app","data-testid":"app",children:[Object(O.jsx)(_,{text:"add new post",type:"button",onClick:function(){return c(!0)},styles:"indigo darken-3",btnType:"btn"}),Object(O.jsxs)("div",{className:"app__containers",children:[Object(O.jsx)(h,{}),Object(O.jsx)(y,{}),Object(O.jsx)(N,{})]}),Object(O.jsx)(g,{isActive:n,setIsActive:c})]})}),w=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,s=e.getLCP,i=e.getTTFB;n(t),a(t),c(t),s(t),i(t)}))},A=Object(d.a)({reducer:{counter:m}});i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(r.a,{store:A,children:Object(O.jsx)(S,{})})}),document.getElementById("root")),w()}},[[35,1,2]]]);
//# sourceMappingURL=main.b45e643c.chunk.js.map